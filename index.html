<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#0b0b0b" />
    <title>Scorpion Store</title>
    <meta name="description" content="Scorpion Store – Heavy-duty prints. Fight-ready gear." />
    <style>
      :root{--max:1200px;--pad:16px;--ink:#f2f2f2;--bg:#0b0b0b;--panel:#111;--line:#232323}
      *{box-sizing:border-box}
      html,body{height:100%;margin:0}
      body{background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
      a{color:inherit;text-decoration:none}
      header{position:sticky;top:0;z-index:10;background:#0e0e0e;border-bottom:1px solid var(--line)}
      .navbar{max-width:var(--max);margin:0 auto;padding:10px var(--pad);display:flex;align-items:center;gap:12px}
      .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.5px}
      .brand img{height:40px;width:auto;display:block}
      .spacer{flex:1}
      .menu{display:flex;gap:10px;flex-wrap:wrap;overflow-x:auto;white-space:nowrap}
      .menu a{padding:8px 12px;border:1px solid #333;border-radius:999px;opacity:.92;transition:background .12s ease, color .12s ease, transform .12s ease}
      .menu a:hover{background:var(--ink);color:var(--bg);transform:translateY(-1px)}
      .menu a.active{background:var(--ink);color:var(--bg)}
      main{max-width:var(--max);margin:0 auto;padding:24px var(--pad)}
      .hero{display:grid;place-items:center;padding:28px 0 8px;text-align:center}
      .hero img{max-width:260px;opacity:.95}
      .subtitle{opacity:.78;margin-top:10px;text-align:center}
      .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:14px;margin-top:26px}
      .tile{border:1px solid var(--line);border-radius:18px;overflow:hidden;background:var(--panel);transition:transform .12s ease}
      .tile:hover{transform:translateY(-2px)}
      .tile .thumb{aspect-ratio:1/1;width:100%;object-fit:cover;display:block;opacity:.97}
      .tile .label{padding:10px;font-weight:800;text-transform:uppercase;letter-spacing:.8px}
      .gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}
      .card{border:1px solid var(--line);border-radius:16px;overflow:hidden;background:var(--panel)}
      .card img{width:100%;aspect-ratio:1/1;object-fit:cover;display:block}
      .card .meta{padding:10px 12px;display:flex;justify-content:space-between;align-items:center;font-size:.95rem}
      .crumbs{opacity:.7;margin-bottom:16px}
      .footer{opacity:.6;text-align:center;padding:28px 0;border-top:1px solid var(--line);margin-top:32px}
      [data-route]{display:none}
      [data-route].is-active{display:block}
      .to-top{position:fixed; right:16px; bottom:16px; display:none; padding:10px 12px; border-radius:999px; border:1px solid var(--line); background:var(--panel); color:var(--ink)}
      .to-top.show{display:block}
      @media print{header,.to-top{display:none !important}}
    </style>
  </head>
  <body>
    <header>
      <nav class="navbar">
        <a class="brand" href="#home"><img id="brandLogo" src="" alt="" /><span>Scorpion Store</span></a>
        <div class="spacer"></div>
        <div class="menu" id="menu">
          <a href="#home"        data-link="home">Home</a>
          <a href="#hoodies"     data-link="hoodies">Hoodies</a>
          <a href="#tshirts"     data-link="tshirts">T-Shirts</a>
          <a href="#rashguards"  data-link="rashguards">Rash Guards</a>
          <a href="#logos"       data-link="logos">Logos</a>
          <a href="#finalapparel"data-link="finalapparel">Final Apparel</a>
        </div>
      </nav>
    </header>

    <main>
      <section data-route="home" id="route-home">
        <div class="hero">
          <img id="heroLogo" src="" alt="Brand" />
          <div class="subtitle">Heavy-duty prints. Fight-ready gear.</div>
        </div>
        <div class="grid">
          <a class="tile" href="#hoodies">
            <img class="thumb" id="cover-hoodies" src="" alt="Hoodies" />
            <div class="label">Hoodies</div>
          </a>
          <a class="tile" href="#tshirts">
            <img class="thumb" id="cover-tshirts" src="" alt="T-Shirts" />
            <div class="label">T-Shirts</div>
          </a>
          <a class="tile" href="#rashguards">
            <img class="thumb" id="cover-rashguards" src="" alt="Rash Guards" />
            <div class="label">Rash Guards</div>
          </a>
          <a class="tile" href="#logos">
            <img class="thumb" id="cover-logos" src="" alt="Logos" />
            <div class="label">Logos</div>
          </a>
          <a class="tile" href="#finalapparel">
            <img class="thumb" id="cover-finalapparel" src="" alt="Final Apparel" />
            <div class="label">Final Apparel</div>
          </a>
        </div>
        <footer class="footer">© <span id="year"></span> Scorpion Fighting System</footer>
      </section>

      <section data-route="hoodies" id="route-hoodies">
        <div class="crumbs"><a href="#home">Home</a> &nbsp;/&nbsp; Hoodies</div>
        <h1>Hoodies</h1>
        <div class="gallery" id="gallery-hoodies"></div>
      </section>

      <section data-route="tshirts" id="route-tshirts">
        <div class="crumbs"><a href="#home">Home</a> &nbsp;/&nbsp; T-Shirts</div>
        <h1>T-Shirts</h1>
        <div class="gallery" id="gallery-tshirts"></div>
      </section>

      <section data-route="rashguards" id="route-rashguards">
        <div class="crumbs"><a href="#home">Home</a> &nbsp;/&nbsp; Rash Guards</div>
        <h1>Rash Guards</h1>
        <div class="gallery" id="gallery-rashguards"></div>
      </section>

      <section data-route="logos" id="route-logos">
        <div class="crumbs"><a href="#home">Home</a> &nbsp;/&nbsp; Logos</div>
        <h1>Logos</h1>
        <div class="gallery" id="gallery-logos"></div>
      </section>

      <section data-route="finalapparel" id="route-finalapparel">
        <div class="crumbs"><a href="#home">Home</a> &nbsp;/&nbsp; Final Apparel</div>
        <h1>Final Apparel</h1>
        <div class="gallery" id="gallery-finalapparel"></div>
      </section>
    </main>

    <button id="toTop" class="to-top" aria-label="Back to top">↑</button>

    <script>
      // --- Config: folder names EXACTLY as they appear in your repo root (case & spaces matter)
      const FOLDERS = {
        hoodies:       "Hoodies",
        tshirts:       "T-Shirts",
        rashguards:    "Rash Guards",
        logos:         "Logos",
        finalapparel:  "Final Apparel"
      };
      const IMAGE_EXTS = ["jpg","jpeg","png","webp","gif","avif","bmp"];
      const coverIds = {
        hoodies: "cover-hoodies",
        tshirts: "cover-tshirts",
        rashguards: "cover-rashguards",
        logos: "cover-logos",
        finalapparel: "cover-finalapparel",
      };

      // --- Helpers
      const $ = (sel) => document.querySelector(sel);
      const $$ = (sel) => Array.from(document.querySelectorAll(sel));

      function setActiveLink(key){
        $$("#menu a").forEach(a => a.classList.toggle("active", a.dataset.link === key));
      }

      function route(){
        let hash = (location.hash || "#home").replace("#","").toLowerCase();
        if(!hash) hash = "home";
        const valid = ["home","hoodies","tshirts","rashguards","logos","finalapparel"];
        if(!valid.includes(hash)) hash = "home";
        // Show section
        valid.forEach(r => {
          const el = document.getElementById("route-"+r);
          if(el) el.classList.toggle("is-active", r === hash);
        });
        setActiveLink(hash);
        if(hash !== "home") renderGallery(hash);
        window.scrollTo({top:0, behavior:"smooth"});
      }

      function ctxFromGithubPages(){
        // Works for https://<user>.github.io/<repo>/
        const host = location.hostname;
        if(!/github\.io$/i.test(host)) return null;
        const owner = host.split(".")[0];
        const path = location.pathname.split("/").filter(Boolean);
        const repo = path[0] || "";
        return owner && repo ? { owner, repo } : null;
      }

      async function listImages(owner, repo, folder){
        const path = folder.split("/").map(encodeURIComponent).join("/");
        const url = `https://api.github.com/repos/${owner}/${repo}/contents/${path}`;
        const res = await fetch(url, { headers: { "Accept":"application/vnd.github.v3+json" } });
        if(!res.ok) return [];
        const items = await res.json();
        if(!Array.isArray(items)) return [];
        return items
          .filter(x => x.type === "file")
          .filter(x => {
            const m = x.name.match(/\.([^.]+)$/);
            return m && IMAGE_EXTS.includes(m[1].toLowerCase());
          })
          .map(x => `/${repo}/${folder}/${encodeURIComponent(x.name)}`);
      }

      async function setCovers(ctx){
        for(const key of Object.keys(FOLDERS)){
          const folder = FOLDERS[key];
          const imgs = ctx ? await listImages(ctx.owner, ctx.repo, folder) : [];
          const cover = document.getElementById(coverIds[key]);
          if(cover){
            cover.src = imgs[0] || `/${folder}/cover.jpg`;
            cover.alt = folder;
          }
        }
      }

      async function renderGallery(key){
        const container = document.getElementById("gallery-"+key);
        const folder = FOLDERS[key];
        if(!container || !folder) return;
        if(container.dataset.loaded === "1") return; // load once

        const ctx = ctxFromGithubPages();
        let images = [];
        if(ctx){
          try { images = await listImages(ctx.owner, ctx.repo, folder); }
          catch(e){ images = []; }
        }

        // Fallback to a naive set of numbered names if API fails (optional)
        if(images.length === 0){
          for(let i=1;i<=12;i++){
            const n = String(i).padStart(2,"0");
            images.push(`/${folder}/image-${n}.jpg`);
          }
        }

        const frag = document.createDocumentFragment();
        images.forEach(src => {
          const art = document.createElement("article");
          art.className = "card";
          art.innerHTML = `<img src="${src}" alt=""><div class="meta"><span>${folder}</span><span></span></div>`;
          frag.appendChild(art);
        });
        container.appendChild(frag);
        container.dataset.loaded = "1";
      }

      function loadLogos(){
        const brand = document.getElementById("brandLogo");
        const hero = document.getElementById("heroLogo");
        const candidates = ["scorpion-logo.png","scorpion-logo.jpg","logo.png","logo.jpg","Logos/logo.png"];
        (function next(i){
          if(i>=candidates.length) return;
          const src = candidates[i];
          const img = new Image();
          img.onload = () => { brand.src = src; hero.src = src; };
          img.onerror = () => next(i+1);
          img.src = src;
        })(0);
      }

      // Back to top
      (function(){
        const btn = document.getElementById("toTop");
        window.addEventListener("scroll",()=>{
          if(window.scrollY>300) btn.classList.add("show"); else btn.classList.remove("show");
        });
        btn.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));
      })();

      window.addEventListener("hashchange", route);
      window.addEventListener("DOMContentLoaded", async ()=>{
        document.getElementById("year").textContent = new Date().getFullYear();
        loadLogos();
        const ctx = ctxFromGithubPages();
        await setCovers(ctx);
        route();
      });
    </script>
  </body>
</html>
